[["hoje", Date], ["Ã s 20:20 de hoje", Time], ["20:20", Time]]
"""
import re
from datetime import timedelta

class TIMEX(object):
   def __init__(self, text, type_):
       self._text = text
       self._type = type_

   @property
   def text(self):
       return self._text

   @property
   def type_(self):
       return self._type

def extract_timex(doc):
   timexs = []
   for match in re.finditer('(\d{1,4})', doc):
       start = match.start()
       end = match.end()
       if '.' not in doc[start:end]:
           timexs.append((doc[start:end], 'Date'))
   for match in re.finditer('\d{1,2}:\d{1,2}', doc):
       start = match.start()
       end = match.end()
       if ':' not in doc[:start] and ':' not in doc[end:] and '.' not in doc[start:end]:
           timexs.append((doc[start:end], 'Time'))
   for match in re.finditer('de\s+([a-zA-Z]+)\s+\d{1,2}\s+de\s+([a-zA-Z]+)', doc):
       start = match.start()
       end = match.end()
       month = match.group(1).lower().capitalize()
       day = int(match.group(2))
       year = 0
       if 'ano' in doc[start:end].lower():
           year = int(re.search('(?<=\s+)(\d{4})(?= de )', doc[start:end]).group())
       elif 'anos' in doc[start:end].lower():
           year = int(re.search('(?<=\s+)(\d{4})(?= anos)', doc[start:end]).group())
       else:
           year = datetime.now().year
       date_str = '{